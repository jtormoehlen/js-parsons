<!doctype html>
<html>

<head>
    <title>Pascalsches Dreieck</title>
    <link href="../parsons.css" rel="stylesheet" />
    <link href="../lib/prettify.css" rel="stylesheet" />
    <script src="../lib/prettify.js"></script>
    <link rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css">
    <script src="https://tikzjax.com/v1/tikzjax.js"></script>
</head>

<body>
    <h2>Summe eines Zahlendreiecks</h2>
    <p>Implementieren Sie eine Funktion, die Zahlen gemäß eines speziellen Dreiecks konstruiert, die von der Spitze
        ausgehen. Die Struktur des Dreiecks ist wie folgt aufgebaut: Jede neue Zeile erhält eine Zelle mehr als die
        vorherige. Jede Zelle enthält eine Zahl, wobei die Werte wie folgt bestimmt werden:</p>
    <ul>
        <li>Die Randfelder jeder Zeile erhalten immer den Wert 1.</li>
        <li>Die inneren Felder berechnen ihre Werte als Summe der beiden übergeordneten Felder aus der vorherigen Zeile.
        </li>
    </ul>
    <p>Die aktuelle Zeile wird durch \(i\) (mit \(i \in \left\{ 0, \dots ,n-1 \right\}\)) und die aktuelle Spalte durch
        \(j\) (mit \(j \in \left\{ 0, \dots ,i \right\}\)) angegeben. Eine grafische Darstellung der Konstruktion ist:
    </p>

    <script type="text/tikz">
            \begin{tikzpicture}
                \draw[thick] (2, 4) rectangle (3, 5);
                \node at (2.5, 4.5){1};

                \draw[thick] (2.5, 3) rectangle (3.5, 4);
                \draw[thick] (1.5, 3) rectangle (2.5, 4);
                \node at (3, 3.5){1};
                \node at (2, 3.5){1};

                \fill[black!30] (2, 2) rectangle (3, 3);
                \draw[thick] (3, 2) rectangle (4, 3);
                \draw[thick] (2, 2) rectangle (3, 3);
                \draw[thick] (1, 2) rectangle (2, 3);
                \node at (3.5, 2.5){1};
                \node at (2.5, 2.5){2};
                \node at (1.5, 2.5){1};
                
                \fill[black!30] (2.5, 1) rectangle (3.5, 2);
                \fill[black!30] (1.5, 1) rectangle (2.5, 2);
                \draw[thick] (3.5, 1) rectangle (4.5, 2);
                \draw[thick] (2.5, 1) rectangle (3.5, 2);
                \draw[thick] (1.5, 1) rectangle (2.5, 2);
                \draw[thick] (0.5, 1) rectangle (1.5, 2);
                \node at (4, 1.5){1};
                \node at (3, 1.5){3};
                \node at (2, 1.5){3};
                \node at (1, 1.5){1};

                \fill[black!30] (3, 0) rectangle (4, 1);
                \fill[black!30] (2, 0) rectangle (3, 1);
                \fill[black!30] (1, 0) rectangle (2, 1);
                \draw[thick] (4, 0) rectangle (5, 1);
                \draw[thick] (3, 0) rectangle (4, 1);
                \draw[thick] (2, 0) rectangle (3, 1);
                \draw[thick] (1, 0) rectangle (2, 1);
                \draw[thick] (0, 0) rectangle (1, 1);
                \node at (4.5, 0.5){1};
                \node at (3.5, 0.5){4};
                \node at (2.5, 0.5){6};
                \node at (1.5, 0.5){4};
                \node at (0.5, 0.5){1};
            \end{tikzpicture}
    </script>

    <p>Implementieren Sie zunächst eine rekursive Funktion, die die Einträge des Dreiecks ermittelt. Anschließend sollen
        Sie eine weitere rekursive Funktion implementieren, die die Summe der Einträge des inneren Dreiecks (graue
        Einträge) berechnet.</p>
    <p>Bringen Sie den nachfolgenden Python-Code, der das Problem mithilfe von Rekursion löst, in die richtige
        Reihenfolge.</p>

    <div id="sortableTrash" class="sortable-code"></div>
    <div id="sortable" class="sortable-code">
    </div>
    <div style="clear:both;"></div>
    <p>
        <a href="#" id="newInstanceLink">Shuffle</a>
        <a href="#" id="feedbackLink">Feeback erhalten</a>
    </p>
    <script src="../lib/jquery.min.js"></script>
    <script src="../lib/jquery-ui.min.js"></script>
    <script src="../lib/jquery.ui.touch-punch.min.js"></script>
    <script src="../lib/underscore-min.js"></script>
    <script src="../lib/lis.js"></script>
    <script src="../parsons.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>

        function displayErrors(fb) {
            if (fb.errors.length > 0) {
                alert(fb.errors[0]);
            }
        }

        $(document).ready(function () {

            var initial = "def binom(i, j):\n" +
                "    if j == 0 or j == i:\n" +
                "        return 1\n" +
                "    else:\n" +
                "        return binom(i-1, j-1) + binom(i-1, j)\n" +
                "def rec_sum(numbers):\n" +
                "    if not numbers:\n" +
                "        return 0\n" +
                "    else:\n" +
                "        return numbers[0] + rec_sum(numbers[1:])\n" +
                "total_sum = int()\n" +
                "for i in range(2, n):\n" +
                "    total_sum += rec_sum([binom(i, j) for j in range(1, i)])\n" +
                "if i == 0 or i == j: #distractor\n" +
                "return binom(i, j-1) + binom(i-1, j-1) #distractor\n" +
                "if numbers: #distractor\n" +
                "return numbers[0] + numbers[-1] + rec_sum(numbers[1:-1]) #distractor\n" +
                "for j in range(2, n): #distractor\n" +
                "total_sum += rec_sum([binom(i, j) for i in range(1, j)]) #distractor\n" +
                "numbers = numbers[1:-1] #distractor";
            var parson = new ParsonsWidget({
                "sortableId": "sortable",
                "max_wrong_lines": 7,
                "grader": ParsonsWidget._graders.LineBasedGrader,
                "exec_limit": 2500,
                "can_indent": true,
                "x_indent": 50,
                "lang": "de",
                "show_feedback": true,
                "trashId": "sortableTrash"
            });

            parson.init(initial);
            parson.shuffleLines();
            $("#newInstanceLink").click(function (event) {
                event.preventDefault();
                parson.shuffleLines();
            });
            $("#feedbackLink").click(function (event) {
                event.preventDefault();
                parson.getFeedback();
            });
        });
    </script>
</body>

</html>